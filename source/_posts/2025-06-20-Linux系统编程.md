---
title: Linux系统编程
date: 2025-06-20 21:26:00
comments: true
tags: Linux
urlname: Linux-System Programming
categories: 计算机学习
---

## Linux常见目录

| 目录        | 说明                                                         |
| ----------- | ------------------------------------------------------------ |
| `/`         | 根目录，所有目录的起点，Linux 文件系统的顶级目录             |
| `/bin`      | 存放常用的二进制可执行文件（如 `ls`、`cp`、`mv` 等），普通用户和系统都可使用 |
| `/sbin`     | 系统管理命令，只有 root 用户可用（如 `reboot`、`ifconfig`）  |
| `/etc`      | 配置文件目录（如 `/etc/passwd`、`/etc/fstab`、`/etc/ssh/sshd_config`） |
| `/home`     | 普通用户的家目录（如 `/home/user1`）                         |
| `/root`     | 超级用户（root）的家目录                                     |
| `/lib`      | 核心共享库和驱动模块，供 `/bin` 和 `/sbin` 下的程序使用      |
| `/usr`      | 存放用户应用程序和文件，子目录中包括 `/usr/bin`、`/usr/lib` 等 |
| `/usr/bin`  | 普通用户使用的应用程序（非基本命令）                         |
| `/usr/sbin` | 非系统引导时使用的系统管理员命令                             |
| `/var`      | 可变数据，如日志文件 `/var/log`、邮件、缓存、锁等            |
| `/tmp`      | 临时文件，系统重启后可能会被清空                             |
| `/opt`      | 第三方软件安装目录（如 Chrome、VMware 等）                   |
| `/dev`      | 设备文件（如硬盘 `/dev/sda`，终端 `/dev/tty`）               |
| `/proc`     | 虚拟文件系统，内核和进程信息（如 `/proc/cpuinfo`、`/proc/meminfo`） |
| `/sys`      | 另一种虚拟文件系统，提供与内核、设备驱动的交互接口           |
| `/boot`     | 存放启动相关文件，如内核、grub 等（如 `/boot/vmlinuz-*`）    |
| `/media`    | 可移动媒体挂载点（如 U 盘、光盘）                            |
| `/mnt`      | 临时挂载点，一般管理员手动挂载文件系统用                     |
| `/run`      | 系统运行时临时文件（如 PID、Socket）                         |
| `/srv`      | 提供服务的数据目录（如 Web 服务、FTP 服务的数据）            |

## Bash解析器常用快捷键

1.tap键

补齐命令，补齐路径，显示当前目录下的所有目录

2.清屏 clear

3.中断进程 ctrl+c

4 遍历输入的历史命令箭头上（ctrl+p）箭头下(ctrl+n)

5 光标相关操作

光标左移： ctrl+b（箭头左）

光标右移： ctrl+f(箭头右)

移动到头部: ctrl+a(home键)

移动到尾部：ctrl+e(end键)

6字符删除

删除光标前面的字符：ctrl+h(Backspace)

删除光标后面的字符：ctrl+d

光标后面的字符即光标覆盖的字符

删除光标前的所有内容：ctrl+u

删除光标后的所有内容：ctrl+k

## 终端相关快捷键

（终端一定要选中）

ctrl+shift+N 新建一个终端

ctrl+shift+T 在终端里新建一个标签

ctrl+D 关闭当前一个终端

## 内建命令和外部命令对比

内建命令 vs 外部命令 对比总结

| 比较项           | 内建命令（Builtin Command）         | 外部命令（External Command）             |
| ---------------- | ----------------------------------- | ---------------------------------------- |
| **定义**         | 由 Shell 内部直接实现的命令         | 是文件系统中的可执行程序（如 `/bin/ls`） |
| **执行速度**     | 快（不需新建进程）                  | 较慢（需 fork 子进程执行）               |
| **资源消耗**     | 少，执行在当前 Shell 进程中         | 多，执行时创建子进程                     |
| **路径查找**     | 不需要依赖 `PATH` 环境变量          | 需要从 `PATH` 中查找可执行文件           |
| **是否可以替换** | 一般不推荐重定义                    | 可以覆盖、替换或删改（如 alias 覆盖）    |
| **是否常驻内存** | 是，Shell 启动时加载                | 否，执行时加载，执行完释放               |
| **例子**         | `cd`, `echo`, `exit`, `pwd`, `type` | `ls`, `cp`, `gcc`, `vim`, `python`       |
| **查看方法**     | `type cd` → builtin                 | `type ls` → file                         |

命令类型查看方法

使用type命令

```bash
type [选项] 命令名
```

使用 -a 显示所有同名命令（包括 alias、builtin、文件）

使用 -t 显示类型（简洁）

## Linux命令格式

```bash
命令 [选项] [参数]
```

| 部分     | 说明                                                         |
| -------- | ------------------------------------------------------------ |
| **命令** | 要执行的操作，如 `ls`、`cp`、`mkdir` 等                      |
| **选项** | 用于控制命令行为的开关，通常以 `-` 或 `--` 开头，例如 `-l`、`--help` |
| **参数** | 命令作用的对象，通常是文件名、目录名、用户名等               |

选项类型说明

| 类型     | 示例     | 说明                                   |
| -------- | -------- | -------------------------------------- |
| 短选项   | `-l`     | 通常是一个字母，多个可组合（如 `-al`） |
| 长选项   | `--help` | 更易读，通常不可组合                   |
| 组合选项 | `-avz`   | 相当于 `-a -v -z`                      |

## 帮助文档查看方法

如果是内建命令（可以通过之前的type命令查看）使用 help +内建命令

```bash
help pwd
```

如果是外部命令 对应命令名 --help

```bash
ls --help
```

`man` 是 Linux 中最常用的命令之一，全称是 **manual（手册）**，用于查看各种命令、函数、配置文件的使用说明。它是学习和查找 Linux 命令最权威的工具。

`man` 命令基本语法：

```bash
man [选项] [命令名或函数名]
```

 man 手册的 9 个部分（章节）

| 章节号 | 内容                             | 示例             |
| ------ | -------------------------------- | ---------------- |
| 1      | 用户命令（常见终端命令）         | `man ls`         |
| 2      | 系统调用（内核提供的函数）       | `man 2 open`     |
| 3      | C 库函数                         | `man 3 printf`   |
| 4      | 设备文件和特殊文件               | `man 4 tty`      |
| 5      | 配置文件格式                     | `man 5 crontab`  |
| 6      | 游戏与趣味（极少）               |                  |
| 7      | 杂项（宏定义、协议、约定等）     | `man 7 signal`   |
| 8      | 系统管理员命令（只能 root 执行） | `man 8 ifconfig` |
| 9      | 内核开发接口（不常见）           |                  |

常用选项

| 选项        | 作用                                    |
| ----------- | --------------------------------------- |
| `-k 关键词` | 搜索相关命令（相当于 `apropos`）        |
| `-f 命令名` | 显示命令属于哪个章节（相当于 `whatis`） |
| `-a`        | 显示所有章节中匹配的 man 页             |
| `-M`        | 指定手册路径                            |
| `--help`    | 查看 man 自身帮助信息                   |

## 目录相关命令

### pwd

用于显示当前终端所在的**工作目录**（即当前绝对路径）。

### cd

```bash
cd [目录路径]
```

常见用法示例

| 命令            | 说明                                       |
| --------------- | ------------------------------------------ |
| `cd /home/user` | 切换到绝对路径 `/home/user` 目录           |
| `cd ..`         | 切换到上一级目录                           |
| `cd` 或 `cd ~`  | 切换到当前用户的主目录                     |
| `cd -`          | 切换到上一次所在的目录（切换目录的“切换”） |
| `cd ./folder`   | 切换到当前目录下的子目录 `folder`          |

### mkdir

用于**创建新目录**的命令，创建不了已存在目录。

```bash
mkdir [选项] 目录名
```

mkdir test 在当前目录下创建test文件夹

mkdir /tmp/test

mkdir file{1..100}在当前目录创建100个文件夹，file1,file2,file3...file100

mkdir "file{1..100}"在当前目录创建file{1..100}文件夹，只会创建一个。

mkdir "a b" 在当前目录创建a b一个文件夹。

mkdir a b 在当前目录创建a b两个文件夹。

| 选项      | 说明                                   |
| --------- | -------------------------------------- |
| `-p`      | 递归创建目录（父目录不存在时自动创建） |
| `-m MODE` | 设置新建目录的权限，如 `-m 755`        |
| `-v`      | 显示详细创建过程（verbose）            |

### rmdir

用法和mkdir相同

用于**删除空目录**的命令

| 命令             | 说明                                           |
| ---------------- | ---------------------------------------------- |
| `rmdir testdir`  | 删除当前目录下的 `testdir`（需为空）           |
| `rmdir -p a/b/c` | 递归删除空目录链：先删 `c`，再删 `b`，再删 `a` |
| `rmdir ./mydir/` | 删除当前目录中的 `mydir`（需为空）             |

| 选项                         | 说明                                   |
| ---------------------------- | -------------------------------------- |
| `-p`                         | 递归删除路径中的所有空目录（从子到父） |
| `--ignore-fail-on-non-empty` | 删除目录时忽略非空目录导致的错误       |

## Linux文件类型

常用的文件类型有七种：普通文件，目录文件，设备文件，管道文件，链接文件和套接字。

![1](1.png)

**普通文件** 是 Linux 中最常见的一类文件，主要用于存储用户数据。包括：

- 文本文件（如 `.txt`, `.c`, `.py`）
- 二进制文件（如 可执行程序、图片、音频等）
- 脚本文件（如 `.sh`, `.py`，可以被解释执行）

在 Linux 中，**目录文件（Directory File）** 是一种特殊的文件类型，用来组织和存放文件和其他目录（子目录）。
 它本质上是一个**保存了文件名和 inode 编号之间映射关系**的文件。

**设备文件**（Device File）是 Linux 中用于访问硬件设备的接口，本质上就是一种特殊的文件，程序通过它来与硬件设备通信。

设备文件通常位于 `/dev` 目录中。

常见设备文件举例

| 路径          | 类型     | 功能描述         |
| ------------- | -------- | ---------------- |
| `/dev/sda`    | 块设备   | 第一块硬盘       |
| `/dev/tty`    | 字符设备 | 当前终端         |
| `/dev/null`   | 字符设备 | 写入数据会被丢弃 |
| `/dev/zero`   | 字符设备 | 会源源不断输出 0 |
| `/dev/random` | 字符设备 | 伪随机数生成器   |

**管道文件**（或称命名管道，FIFO = First In First Out）是一种特殊文件，用于**在不同进程之间传输数据**。
 写入管道的数据会按顺序被读取，类似“排队喝水”的水管，先进先出。

管道文件与匿名管道不同之处在于它有名字，存在于文件系统中（通常创建在某个路径下），因此**不同进程不必有父子关系**也能通信。

**链接文件** 是指向另一个文件的引用，常用于：

- 创建多个路径指向同一个文件（节省空间）
- 为长路径或常用文件创建别名（提高效率）
- 实现共享与替代功能

| 类型                   | 描述                                                     | `ls -l` 标识 |
| ---------------------- | -------------------------------------------------------- | ------------ |
| **软链接**（符号链接） | 类似 Windows 快捷方式，是一个指向目标路径的独立文件      | `l`          |
| **硬链接**             | 直接指向目标文件的 inode，本质上是同一个文件的另一个名字 | `-`          |

在 Linux 中，你可以使用 `ls -l` 命令来区分各种文件类型。`ls -l` 输出的每一行开头的第一个字符表示文件类型。下面是 **七种常见文件类型及其 `ls -l` 显示符号**：

七种常见文件类型及其标识

| 文件类型         | `ls -l` 类型字符 | 示例路径                    | 含义说明                                   |
| ---------------- | ---------------- | --------------------------- | ------------------------------------------ |
| **普通文件**     | `-`              | `-rw-r--r-- file.txt`       | 常见的文本、二进制、可执行文件等           |
| **目录文件**     | `d`              | `drwxr-xr-x dir/`           | 存储文件的容器                             |
| **字符设备文件** | `c`              | `crw------- /dev/tty`       | 逐字符访问设备，如终端、串口等             |
| **块设备文件**   | `b`              | `brw-rw---- /dev/sda`       | 按块访问设备，如硬盘、U 盘等               |
| **管道文件**     | `p`              | `prw-r--r-- mypipe`         | 用于进程间通信的 FIFO 管道                 |
| **链接文件**     | `l`              | `lrwxrwxrwx link -> target` | 指向其他文件的软链接                       |
| **套接字文件**   | `s`              | `srwxrwxrwx socket`         | 进程间网络通信接口，如 `/tmp/.X11-unix/X0` |

## 文件相关命令

### ls命令

| 命令       | 含义                                    |
| ---------- | --------------------------------------- |
| `ls`       | 简单列出当前目录内容                    |
| `ls -a`    | 显示所有文件，包括隐藏文件（以`.`开头） |
| `ls -l`    | 以长格式列出，显示权限、类型、时间等    |
| `ls -lh`   | 长格式 + 人类可读大小（如 KB, MB）      |
| `ls -lt`   | 按修改时间排序，最新的在前              |
| `ls -r`    | 反向排序                                |
| `ls -R`    | 递归列出子目录                          |
| `ls -d */` | 只列出目录 ls -d只显示一个.             |

ls -l命令会输出长格式

```
权限       硬链接数 拥有者 所属组  大小    修改日期      文件名
drwxr-xr-x   2    user   user  4096   Jun 21 13:00  mydir
```

对权限部分说明一下权限部分总共10个字符

| 位置 | 含义                       |
| ---- | -------------------------- |
| 1    | 文件类型标识               |
| 2-4  | **拥有者（user）**权限     |
| 5-7  | **同组用户（group）**权限  |
| 8-10 | **其他用户（others）**权限 |

文件类型标识（第1个字符）

| 字符 | 类型         |
| ---- | ------------ |
| `-`  | 普通文件     |
| `d`  | 目录         |
| `l`  | 软链接       |
| `c`  | 字符设备文件 |
| `b`  | 块设备文件   |
| `p`  | 管道（FIFO） |
| `s`  | 套接字       |

权限字符说明（2-10位置）

| 字符 | 含义                             |
| ---- | -------------------------------- |
| `r`  | 读权限 (read)                    |
| `w`  | 写权限 (write)                   |
| `x`  | 执行权限 (execute)               |
| `-`  | 无该权限                         |
| `s`  | setuid/setgid 位（特殊执行权限） |
| `t`  | 粘滞位（sticky bit）             |

三组权限详解

| 组别         | 位置      | 含义                                 |
| ------------ | --------- | ------------------------------------ |
| **拥有者**   | 2~4 字符  | 拥有该文件/目录的用户权限            |
| **组用户**   | 5~7 字符  | 属于该文件组的用户权限               |
| **其他用户** | 8~10 字符 | 系统中除拥有者和组以外的所有用户权限 |

###  什么是通配符？

通配符是一种简化文件名匹配的符号，用于在命令中匹配多个文件或目录。它可以让你不用输入完整文件名，就能选中符合规则的文件。

常用的通配符类型

| 通配符   | 作用                              | 例子                | 匹配结果示例                                            |
| -------- | --------------------------------- | ------------------- | ------------------------------------------------------- |
| `*`      | 匹配任意数量的任意字符（包括0个） | `ls *.txt`          | 匹配所有以 `.txt` 结尾的文件                            |
| `?`      | 匹配任意一个单字符                | `ls file?.txt`      | 匹配 `file1.txt`、`fileA.txt`，但不匹配 `file10.txt`    |
| `[abc]`  | 匹配括号内的任意一个字符          | `ls file[123].txt`  | 匹配 `file1.txt`、`file2.txt`、`file3.txt`              |
| `[a-z]`  | 匹配指定范围内的任意一个字符      | `ls file[a-c].txt`  | 匹配 `filea.txt`、`fileb.txt`、`filec.txt`              |
| `[!abc]` | 匹配不在括号内的任意一个字符      | `ls file[!123].txt` | 匹配除 `file1.txt`、`file2.txt`、`file3.txt` 以外的文件 |

### touch命令

`touch` 是用来 **创建空文件** 或 **更新已有文件的时间戳** 的命令。

```bash
touch file.txt
```

如果 `file.txt` 不存在，会被创建为空文件；如果存在，文件时间被更新。

```bash
touch file1.txt file2.txt file3.txt
```

一次创建或更新多个文件。

```bash
touch file{2,3,4}#同时创建file2,file3,file4三个空文件和mkdir file{1..100}用法是一样的。
touch "file{2,3,4}"#创建file{2,3,4}这一个文件。
```

### cp命令

`cp` 是 Linux 中用于 **复制文件或目录** 的命令。

| 任务                | 命令示例                        | 说明                                  |
| ------------------- | ------------------------------- | ------------------------------------- |
| 复制文件            | `cp file1.txt file2.txt`        | 把 `file1.txt` 内容复制为 `file2.txt` |
| 复制文件到目录      | `cp file1.txt /home/user/docs/` | 把 `file1.txt` 复制进目录             |
| 复制目录（加 `-r`） | `cp -r dir1/ dir2/`             | 递归复制整个目录 `dir1` 到 `dir2` 中  |
| 保留属性复制文件    | `cp -p file1.txt file2.txt`     | 保留原文件的时间戳、权限等信息        |
| 强制覆盖目标文件    | `cp -f file1.txt file2.txt`     | 如果 `file2.txt` 存在，强制覆盖       |
| 复制并提示          | `cp -i file1.txt file2.txt`     | 有冲突时会提示确认                    |
| 显示复制过程        | `cp -v file1.txt file2.txt`     | 复制时显示详细过程（verbose 模式）    |

| 选项        | 含义                                         |
| ----------- | -------------------------------------------- |
| `-r`        | 递归复制目录（必须用于复制目录）             |
| `-i`        | 覆盖文件前提示确认                           |
| `-f`        | 强制覆盖目标文件而不提示                     |
| `-p`        | 保留原文件的属性（权限、时间等）             |
| `-u`        | 只在源文件较新时才复制                       |
| `-v`        | 显示复制过程（verbose）                      |
| `-a`        | 归档模式，等价于 `-dpR`，用于备份            |
| `--parents` | 保留源路径结构复制文件（适用于目录结构迁移） |

### rm命令

是用于在 Linux 中 **删除文件和目录** 的命令。注意：`rm` 删除后不会进入回收站，**无法轻易恢复**，请务必小心使用。

| 功能               | 命令                               | 说明                                  |
| ------------------ | ---------------------------------- | ------------------------------------- |
| 删除单个文件       | `rm file.txt`                      | 删除文件 `file.txt`                   |
| 删除多个文件       | `rm file1.txt file2.txt`           | 一次删除多个文件                      |
| 递归删除目录及内容 | `rm -r mydir/`                     | 删除目录 `mydir` 及其所有子目录和文件 |
| 强制删除文件/目录  | `rm -f file.txt` / `rm -rf mydir/` | 忽略不存在的文件，且不提示确认        |
| 删除前确认         | `rm -i file.txt`                   | 删除前逐一询问确认                    |
| 显示正在删除的文件 | `rm -v file.txt`                   | 显示被删除的文件名                    |

| 选项                  | 含义                                                         |
| --------------------- | ------------------------------------------------------------ |
| `-r` 或 `--recursive` | 递归删除目录及其内容（删除整个目录树）                       |
| `-f` 或 `--force`     | 强制删除，不提示，即使目标不存在也不报错                     |
| `-i`                  | 删除前询问确认，适合新手使用以防误删                         |
| `-I`                  | 删除多个文件或目录时才询问一次，比 `-i` 安全且不烦人         |
| `-v` 或 `--verbose`   | 显示正在删除的每一个文件或目录                               |
| `--preserve-root`     | 默认保护根目录 `/` 不被删除（系统安全机制，防止 `rm -rf /` 误操作） |

### mv命令

**移动文件或目录** 到新位置，**重命名** 文件或目录。

| 功能         | 命令示例                         | 说明                                      |
| ------------ | -------------------------------- | ----------------------------------------- |
| 移动文件     | `mv a.txt /home/user/docs/`      | 把 `a.txt` 移动到 `/home/user/docs/` 目录 |
| 重命名文件   | `mv old.txt new.txt`             | 将 `old.txt` 重命名为 `new.txt`           |
| 移动并重命名 | `mv a.txt /home/user/docs/b.txt` | 移动 `a.txt` 到新目录并改名为 `b.txt`     |
| 移动目录     | `mv dir1/ /home/user/backup/`    | 移动整个目录到新的路径                    |
| 覆盖已有文件 | `mv -f a.txt b.txt`              | 如果 `b.txt` 存在，则强制覆盖             |
| 覆盖前确认   | `mv -i a.txt b.txt`              | 如果 `b.txt` 存在，移动前会询问是否覆盖   |
| 显示移动过程 | `mv -v a.txt b.txt`              | 显示正在移动的内容                        |

| 选项 | 含义                                          |
| ---- | --------------------------------------------- |
| `-f` | 强制覆盖已有目标文件，不提示                  |
| `-i` | 如果目标文件存在，提示是否覆盖（interactive） |
| `-n` | 不覆盖已有的目标文件（no-clobber）            |
| `-v` | 显示移动过程（verbose）                       |
| `-u` | 仅在源文件较新或目标文件不存在时才移动        |

## 文件内容查看相关命令

### cat命令

用于 **查看、创建、合并文件** 内容，常用于快速查看文本文件内容。

| 选项 | 含义                              |
| ---- | --------------------------------- |
| `-n` | 给所有行编号                      |
| `-b` | 只对非空行编号                    |
| `-s` | 压缩连续空白行为一行              |
| `-T` | 显示 Tab 为 `^I`                  |
| `-E` | 显示每行结尾的 `$`（换行符可见）  |
| `-A` | 相当于 `-vET`，显示所有不可见字符 |

### less命令

用于**分页显示文件内容**的命令，支持 **向前/向后翻页浏览**，适合查看**大型文本文件**。它比 `cat` 更强大，且不会一次性加载全部内容到内存中。

使用时常用快捷键（进入 less 后）

| 快捷键    | 功能说明                |
| --------- | ----------------------- |
| `空格`    | 向下翻一页              |
| `b`       | 向上翻一页              |
| `Enter`   | 向下滚动一行            |
| `k`       | 向上一行（vi 风格）     |
| `j`       | 向下一行                |
| `G`       | 跳到文件末尾            |
| `g`       | 跳到文件开头            |
| `/关键词` | 向下搜索（如 `/error`） |
| `?关键词` | 向上搜索                |
| `n`       | 重复上一次搜索          |
| `N`       | 反向重复搜索            |
| `q`       | 退出 less               |

### head命令

`head` 用于**查看文件的前几行内容**，默认显示前 10 行。适合快速预览文件开头，尤其是大型文件或日志文件。

| 选项   | 说明                                             |
| ------ | ------------------------------------------------ |
| `-n N` | 显示前 N 行（如 `head -n 15 file.txt`）          |
| `-c N` | 显示前 N 个**字节**（如 `head -c 100 file.txt`） |
| `-q`   | 多文件时不显示文件名头部（quiet）                |
| `-v`   | 总是显示文件名头部（verbose）                    |

### tail命令

用于**显示文件的最后几行内容**，默认是最后 10 行。常用于：

- 查看日志尾部；
- 实时监控文件内容变化（配合 `-f` 选项）；
- 截取文件结尾部分数据。

```bash
tail /etc/passwd #默认显示后十行
tail -n 30 文件名 #显示后30行内容
tail -c 30 文件名 #显示后30个字符
```

## du和df命令

### du命令

查看**目录或文件占用的磁盘空间**，会考虑磁盘块对齐、文件系统元数据、软链接等因素。

| 参数            | 含义                                       |
| --------------- | ------------------------------------------ |
| `-h`            | 以**人类可读的方式**显示（如 KB、MB）      |
| `-s`            | 显示指定文件/目录占用的数据块              |
| `-a`            | 显示所有文件和目录的大小（默认只显示目录） |
| `--max-depth=N` | 显示目录深度（限制递归层数）               |

```bash
du -sh 文件名/目录
```

| 项目     | `ls -l`                    | `du -sh`                         |
| -------- | -------------------------- | -------------------------------- |
| 显示内容 | 文件本身大小（内容字节数） | 实际磁盘占用（包含对齐和元数据） |
| 对目录   | 显示目录结构本身大小       | 显示目录下所有内容实际占用       |
| 单位     | 字节（Bytes）              | 自动转换为 KB/MB/GB              |
| 应用场景 | 看文件大小/属性            | 查哪些文件/目录占空间最多        |

```bash
echo "hello" > file.txt
ls -l file.txt      # 显示 6 bytes
du -sh file.txt     # 显示 4.0K
```

### df命令

查看**整个磁盘的使用情况**

```bash
df -h # 显示所有文件系统的使用情况（人类可读格式）
df -h /home # 查看 /home 所在分区的磁盘使用情况
```

## 查找相关命令

### find

`find` 是 Linux 中功能非常强大的文件搜索命令，它可以根据名称、类型、时间、大小、权限等多种条件在目录中递归查找文件，还可以执行删除、移动、打印等操作。

```bash
find [搜索路径] [搜索条件] [处理动作]
```

按文件名查询：使用参数 -name

```bash
find ./ -name "*.txt" #查找当前路径下符合后缀是。txt的文件
```

按文件大小查询：使用参数 -size

```bash
find ./ -size +100k
```

+100k 表示大于100k的文件

-100k表示小于100k的文件

100k 表示等于100k的文件

大小方面：k小写，M大写

查询大小范围

```bash
find ./ -size +50k -size -100k
```

按文件类型查询：使用参数 -type

```bash
find ./ -type f #查询当前的普通文件
```

| 类型代号 | 含义               | 示例                                                         |
| -------- | ------------------ | ------------------------------------------------------------ |
| `f`      | 普通文件           | `find . -type f` 查找所有普通文件（这里不是-，要和ls -l的文件类型区分） |
| `d`      | 目录               | `find . -type d` 查找所有目录                                |
| `l`      | 符号链接（软链接） | `find . -type l` 查找所有软链接                              |
| `c`      | 字符设备文件       | `/dev/null` 等                                               |
| `b`      | 块设备文件         | 硬盘等块设备                                                 |
| `s`      | 套接字文件         | Socket 类型文件                                              |
| `p`      | 命名管道（FIFO）   | 通信用的特殊文件                                             |

### grep

`grep` 是 Linux 中非常常用的文本搜索工具，用于**在文件或标准输出中查找匹配的字符串**，功能强大，灵活，适合日志分析、配置文件搜索、编程辅助等场景。

```bash
grep [选项] "模式" [文件]
```

| 选项           | 含义说明                             |
| -------------- | ------------------------------------ |
| `-n`           | 显示匹配行的行号                     |
| `-i`           | 忽略大小写                           |
| `-v`           | 反向匹配（即显示不包含该字符串的行） |
| `-r` or `-R`   | 递归搜索目录下的所有文件             |
| `-l`           | 只列出匹配的文件名                   |
| `-c`           | 统计匹配的行数                       |
| `--color=auto` | 高亮显示匹配的内容                   |

```bash
grep -i "root" /etc/passwd #不分大小写，在passwd查找root
grep -w "hello" /etc/passwd #在passwd查找完全匹配hello单词的行
grep -r "u_char" ./  #递归搜索当前目录下的符合u_char的行
grep -i "hello" /etc/passwd --color=auto #在/etc/passwd文件中找hello并且忽略大小写，然后高亮显示匹配的关键字
```

## 管道

管道（|）一个命令的输出可以通过管道作为另一个命令的输入。

```bash
ifconfig | grep "ens33" #在ifconfig输出的文字查找存在ens33的行
```

## 压缩包管理

### tar

把一系列文件归档到一个文件，也可以把档案文件解开以恢复数据。

```bash
tar [选项] -f [文件名.tar] [要打包或解压的文件/目录]#f必须放到选项的最后
```

```bash
tar -cvf sysctl.tar sysctl #打包文件，但是不压缩
tar -xvf sysctl.tar #解包文件
tar -tvf sysctl.tar #查看压缩文件内容
```

### gzip

**对单个文件进行压缩或解压**，压缩率高、速度快，默认生成 `.gz` 文件。

tar和gzip命令结合使用实现文件打包，压缩。

tar只负责打包文件，但不压缩，用gzip压缩tar打包后的文件，其扩展名一般为xxx.tar.gz。

gzip单独使用，只可以对文件压缩和解压，不可以对目录。

```bash
gzip test1 test2 #不保留源文件压缩。 
```

tar和gzip结合对目录压缩

```bash
tar -czvf sysctl.tar.gz sysctl #打包和压缩文件
tar -xzvf sysctl.tar.gz #解包和解压文件
tar -xzvf sysctl.tar.gz -C /temp #解包和解压文件到temp目录
```

### bzip2

和gzip一样和tar结合。

```bash
tar -cjvf test.tar.bz2 test #生成一个bz2压缩包
tar -xjvf share.tar.bz2 #解压
```

### zip和unzip

通过zip压缩文件的目标文件不需要指定扩展名，默认扩展名为zip。

```bash
zip [选项] 目标文件（没有扩展名）源文件/目录
unzip -d 解压后目录文件 压缩文件 #-d解压到指定目录
```

## 文件权限管理